{% extends "account/base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/jquery.Jcrop.css' %}" />
<link rel="stylesheet" href="{% static 'css/select2.min.css' %}" />
<section class="h-100 my-5">
    <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col col-lg-9 col-xl-9">
                <div class="card card-form-2 mb-0 z-depth-0">
                    <h5 class="card-body pb-0">Profile Settings</h5>
                    <div class="card-body d-flex justify-content-center text-center pt-0">
                        <div class="" style="width: 150px; height: 150px;">
                            <img id="dp-img" src="{{ dp_url }}"
                                alt="Display Picture" class="img-fluid img-thumbnail p-1 dp-img"
                                style="height:150px; object-fit: cover;" />
                            <label class="form-label bg-light" for="dp-input" 
                                style="z-index: 1;top: -36px;position: relative;overflow: visible;opacity: 60%;width: 150px;height: 36px;padding: 5px;text-align: center;cursor: pointer;">
                                Choose file
                            </label>
                            <input type="file" class="form-control d-none" id="dp-input" />
                        </div>
                    </div>
                    <hr class="hr hr-blurry" />
                    <div class="card-body justify-content-center text-center py-0">
                        <div class="input-group input-group-lg mb-2 ">
                            <span class="col-3 input-group-text border-0" style="white-space: pre-wrap;">First Name</span>
                            <input type="text" id="firstname-input" class="form-control col rounded" value="{{ user.firstname }}"/>
                        </div>
                        <div class="input-group input-group-lg mb-2 ">
                            <span class="col-3 input-group-text border-0" style="white-space: pre-wrap;">Last Name</span>
                            <input type="text" id="lastname-input" class="form-control col rounded" value="{{ user.lastname }}" />
                        </div>
                    </div>
                    <hr class="hr hr-blurry" />
                    <h6 class="card-body py-0">Bio</h6>
                    <div class="card-body justify-content-center text-center py-0">
                        <div class="input-group input-group-lg mb-2 ">
                            <span class="col-3 input-group-text border-0" style="white-space: pre-wrap;">City</span>
                            <select id="location-input" class="form-control col">
                                <option></option>
                            </select>
                        </div>
                        <div class="input-group input-group-lg mb-2 ">
                            <span class="col-3 input-group-text border-0" style="white-space: pre-wrap;">Skills</span>
                            <select id="skills-input" class="form-control col" multiple="multiple"></select>
                        </div>
                    </div>
                    <hr class="hr hr-blurry" />
                    <div class="d-grid gap-2 col-6 mx-auto">
                        <button id="save-btn" type="button" class="btn btn-info btn-rounded">Save Changes</button>
                    </div>
                    <hr class="hr hr-blurry" />
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    const cineSkillsets = {{ skills|safe }}
    const cities = {{ cities|safe }}
    var firstname = '{{ user.firstname }}'
    var lastname = '{{ user.lastname }}'
    var userLocation = '{{ location }}'
    var userSkills = {{ userskills|safe }}
</script>
<script type="text/javascript" src="{% static 'js/load-image.all.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.Jcrop.js' %}"></script>
<script type="text/javascript" src="{% static 'js/select2.full.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/profile-settings.js' %}"></script>
<script type="text/javascript" src="{% static 'js/profile.js' %}"></script>
{% endblock %}